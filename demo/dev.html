<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <div>
        <template id="test">
            <detail>
                <summary></summary>
            </detail>
            <script transform>
                ({
                    'detail': i => {
                        i.ctx.matchFirstChild = true;
                    },
                    'summary': i => {
                        i.target.textContent = i.ctx.model.summaryText;
                    },
                })
            </script>
        </template>
        <div id="target">

        </div>
        <script type="module">
            import { init } from '../trans-render-init.js';
            const ctx = {
                model: {
                    summaryText: 'hello'
                }
            };
            init(test, ctx, target);
        </script>
    </div>
    
    <template id="F">
        It's Friday I'm in love
    </template>
    <template id="Opening">
        <span jsname="YS01Ge">I don't care if |.Day1|'s blue</span><br>
        <span jsname="YS01Ge">|.Day2|'s gray and |.Day3| too</span><br>
        <span jsname="YS01Ge">|.Day4| I don't care about you</span><br>
        <span jsname="YS01Ge" class="F"></span>
    </template>
    <template id="MF">
        <div jsname="U8S5sf" class="UH8R2 opening">
        </div>
        <div jsname="U8S5sf" class="UH8R2">
            <span jsname="YS01Ge">|.Day6| wait</span><br>
            <span jsname="YS01Ge">And |.Day7| always comes too late</span><br>
            <span jsname="YS01Ge">But |.Day5| never hesitate</span>
        </div>
        <div jsname="U8S5sf" class="UH8R2">
            <span jsname="YS01Ge">I don't care if |.Day1|'s black</span><br>
            <span jsname="YS01Ge">Tuesday, Wednesday heart attack</span><br>
            <span jsname="YS01Ge">Thursday never looking back</span><br>
            <span jsname="YS01Ge" class="F"></span>
        </div>
        <div jsname="U8S5sf" class="UH8R2">
            <span jsname="YS01Ge">|.Day1| you can hold your head</span><br>
            <span jsname="YS01Ge">|.Day2|, |.Day3| stay in bed</span><br>
            <span jsname="YS01Ge">Or |.Day4| watch the walls instead</span><br>
            <span jsname="YS01Ge" class="F"></span>
        </div>
        <div jsname="U8S5sf" class="UH8R2">
            <span jsname="YS01Ge">|.Day6| wait</span><br>
            <span jsname="YS01Ge">And |.Day7| always comes too late</span><br>
            <span jsname="YS01Ge">But |.Day5| never hesitate</span>
        </div>
        <div jsname="U8S5sf" class="UH8R2">
                <span jsname="YS01Ge">Dressed up to the eyes</span><br>
                <span jsname="YS01Ge">It's a wonderful surprise</span><br>
                <span jsname="YS01Ge">To see your shoes and your spirits rise</span><br>
                <span jsname="YS01Ge">Throwing out your frown</span><br>
                <span jsname="YS01Ge">And just smiling at the sound</span><br>
                <span jsname="YS01Ge">And as sleek as a shriek</span><br>
                <span jsname="YS01Ge">Spinning round and round</span><br>
                <span jsname="YS01Ge">Always take a big bite</span><br>
                <span jsname="YS01Ge">It's such a gorgeous sight</span><br>
                <span jsname="YS01Ge">To see you in the middle of the night</span><br>
                <span jsname="YS01Ge">You can never get enough</span><br>
                <span jsname="YS01Ge">Enough of this stuff</span><br>
                <span jsname="YS01Ge">It's |.Day5|</span><br>
                <span jsname="YS01Ge">I'm in love</span>
            </div>
            <div jsname="U8S5sf" class="UH8R2">
                <span jsname="YS01Ge">I don't care if Monday's blue</span><br>
                <span jsname="YS01Ge">Tuesday's gray and Wednesday too</span><br>
                <span jsname="YS01Ge">Thursday I don't care about you</span><br>
                <span jsname="YS01Ge">It's Friday I'm in love</span>
            </div>
            <div jsname="U8S5sf" class="UH8R2">
                <span jsname="YS01Ge">Monday you can fall apart</span><br>
                <span jsname="YS01Ge">Tuesday, Wednesday break my heart</span><br>
                <span jsname="YS01Ge">Thursday doesn't even start</span><br>
                <span jsname="YS01Ge">It's Friday I'm in love</span>
            </div>
        <style>
            .UH8R2{
                padding-top: 20px;
            }
        </style>
        <script transform>
                ({
                    '.opening': i =>{
                        //debugger;
                        i.ctx.init(Opening, Object.assign({}, i.ctx) , i.ctx.leaf);
                        i.ctx.matchFirstChild = true;
                        i.ctx.matchNextSib = true;
                    },
                    '.F': i => {
                        i.ctx.init(F, {}, i.ctx.leaf);
                    },
                    'div': i => {
                        i.ctx.matchFirstChild = true;
                        i.ctx.matchNextSib = true;
                    },
                    'span':i =>{
                        i.ctx.leaf.textContent = i.ctx.interpolate(i.ctx.leaf.innerText, i.ctx);
                        i.ctx.matchNextSib = true;
                    },
                    'br': i =>{
                        i.ctx.matchNextSib = true;
                    }
                })
            </script>
    </template>
    <div id="target2">

    </div>
    <script type="module">
        import { init } from '../trans-render-init.js';
        import {interpolate} from '../string-interpolate.js';
        init(MF, {
            Day1: 'Monday', Day2: 'Tuesday', Day3: 'Wednesday', Day4: 'Thursday', Day5: 'Friday',
            Day6: 'Saturday', Day7: 'Sunday',
            interpolate: interpolate}, target2);
    </script>

</body>

</html>